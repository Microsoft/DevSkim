@page "/viewcode/{Guid}"
@using Microsoft.CodeAnalysis.Sarif;
@using System.Text;
@inject Blazored.LocalStorage.ILocalStorageService localStorage;

Viewing code given @Guid for @FileName during @RunId 
<code class="language-@Language">
    @Code
</code>

@code {
    [Parameter]
    public string Guid { get; set; }

    public string FileName { get; set; }

    public string Code { get; set; }

    public string Language { get; set; }

    public string RunId { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var theGuid = Guid;
        var results = await localStorage.GetItemAsync<CodeFile>(Guid);
        Code = results.Content;
        FileName = results.FileName;
        Language = Microsoft.DevSkim.Language.FromFileName(FileName);
        RunId = results.RunId;

        this.StateHasChanged();
    }
}
